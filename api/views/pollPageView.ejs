<html>
    <head>
        <title><%=title%></title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.2/chart.min.js" integrity="sha512-VCHVc5miKoln972iJPvkQrUYYq7XpxXzvqNfiul1H4aZDwGBGC0lq373KNleaB2LpnC2a/iNfE5zoRYmB4TRDQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


        <style>

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}
html,
        body {
          height: 100%;
        }
.wrapper {
  width: 70vw;
  height: 60vh;
  background: #fff;
  border-radius: 10px;
  box-shadow: 5px 5px 30px rgba(0, 0, 0, 0.2);
}

.wrapper .title {
  color: rgb(7, 6, 6);
  line-height: 65px;
  text-align: center;
  font-size: 25px;
  font-weight: 500;
  border-radius: 10px 10px 0 0;
}
.wrapper .box {
  padding: 20px 30px;
  background: #fff;
  border-radius: 10px;
}
.wrapper .box label {
  display: flex;
  height: 53px;
  width: 100%;
  align-items: center;
  border: 1px solid lightgray;
  border-radius: 50px;
  margin: 10px 0;
  padding-left: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}
#option-1:checked ~ .option-1,
#option-2:checked ~ .option-2,
#option-3:checked ~ .option-3,
#option-4:checked ~ .option-4 {
  background: #01fa0e;
  border-color: #01fa0e;
}
.wrapper .box label .dot {
  height: 20px;
  width: 20px;
  background: #d9d9d9;
  border-radius: 50%;
  position: relative;
  transition: all 0.3s ease;
}
#option-1:checked ~ .option-1 .dot,
#option-2:checked ~ .option-2 .dot,
#option-3:checked ~ .option-3 .dot,
#option-4:checked ~ .option-4 .dot {
  background: #fff;
}
.box label .dot::before {
  position: absolute;
  content: '';
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(2);
  width: 9px;
  height: 9px;
  border-radius: 50%;
  transition: all 0.3s ease;
}
#option-1:checked ~ .option-1 .dot::before,
#option-2:checked ~ .option-2 .dot::before,
#option-3:checked ~ .option-3 .dot::before,
#option-4:checked ~ .option-4 .dot::before {
  background: #01fa0e;
  transform: translate(-50%, -50%) scale(1);
}
.wrapper .box label .text {
  color: black;
  font-size: 18px;
  font-weight: 400;
  padding-left: 10px;
  transition: color 0.3s ease;
}
#option-1:checked ~ .option-1 .text,
#option-2:checked ~ .option-2 .text,
#option-3:checked ~ .option-3 .text,
#option-4:checked ~ .option-4 .text {
  color: #fff;
}
.wrapper .box input[type='radio'] {
  display: none;
}

.pollBtn {
  background-color: aqua;
  align-items: center;
  justify-content: center;
}

.pollSubmit {
  width: 100%;
  height: 5vh;
}

@media screen and (max-width: 968px) {
        #chart-rkhnewala{
            position: relative;
        height: 40vh;
        width: 80vw;
        }
        
    }

        </style>

    </head>
    <body class="bg-gray-200">
       

        <%- include('_navbar') -%>

    
        <br>
        <br>
        <!-- <% if(!backid){%>
        <div class="container row">
            <div class="jumbotron col-sm-4 pull-center">
                <form action="/poll/sendpoll/<%=locals.user.id%>" method="POST">

                    <p><%=myPoll.pollName%></p>
                    

                    <label><%=myPoll.optionA%></label>
                    <input type="radio"  id="javascript" name="Option" value="A">
                    <label><%=myPoll.optionB%></label>
                    <input type="radio" label="<%=myPoll.optionB%>"id="javascript" name="Option" value="B">
                    <label><%=myPoll.optionC%></label>
                    <input type="radio" label="<%=myPoll.optionC%>"id="javascript" name="Option" value="C">
                    <label><%=myPoll.optionD%></label>
                    <input type="radio" label="<%=myPoll.optionD%>"id="javascript" name="Option" value="D">
                    <input type="hidden" name="pollID"  value="<%=myPoll._id%>">
                    <input type="submit" value="Submit">               
                </form>                  
            </div>          
        </div>
        <%}%> -->




        <% if(!backid){%>
          <form class="mt-10 ml-10" action="/poll/sendpoll/<%=locals.user.id%>" method="POST">
        <div class="wrapper">
          <div class="title"><%=myPoll.question%></div>
          <div class="box">
              <input type="radio" name="Option" id="option-1" value="A">
              <input type="radio" name="Option" id="option-2" value="B">
              <input type="radio" name="Option" id="option-3" value="C">
              <input type="radio" name="Option" id="option-4" value="D">
              <label for="option-1" class="option-1">
                  <div class="dot"></div>
                  <div class="text"><%=myPoll.optionA%></div>
              </label>
              <label for="option-2" class="option-2">
                  <div class="dot"></div>
                  <div class="text"><%=myPoll.optionB%></div>
              </label>
              <label for="option-3" class="option-3">
                <div class="dot"></div>
                <div class="text"><%=myPoll.optionC%></div>
            </label>
            <label for="option-4" class="option-4">
                <div class="dot"></div>
                <div class="text"><%=myPoll.optionD%></div>
            </label>
    
            <div class="form-group mt-4 text-center mr-10">
              <input id="fm" class="bg-indigo-500 rounded-full font-bold text-white px-4 py-3 transition duration-300 ease-in-out hover:bg-blue-400 mr-6" type="submit" value="Submit"/>
          </div>
          </div>
          
          
      </div>
      <input type="hidden" name="pollID"  value="<%=myPoll._id%>">
      <!-- <input type="submit" value="Submit">     -->

     
    </form>  
      <%}else{%>

        <div id="chart-rkhnewala" class=" bg-white p-1 shadow-sm rounded-sm">

          <p>Polling Results</p>
         
          <canvas id="myChart" width="15" height="5"></canvas>
         
          <script>
  
  
               a = '<%=arr%>'
               var res = a.split(",");
               console.log(res)
  
              var ctx = document.getElementById('myChart');
              var myChart = new Chart(ctx, {
                  type: 'bar',
                  data: {
                      labels: ['A', 'B', 'C', 'D'],
                      datasets: [{
                          label: '# of rating',
                          data: res,
                          // data: [800,1200,0,400],
                          backgroundColor: [
                              'rgba(255, 99, 132, 0.2)',
                              'rgba(54, 162, 235, 0.2)',
                              'rgba(255, 206, 86, 0.2)',
                              'rgba(75, 192, 192, 0.2)',
                              'rgba(153, 102, 255, 0.2)',
                              'rgba(255, 159, 64, 0.2)'
                          ],
                          borderColor: [
                              'rgba(255, 99, 132, 1)',
                              'rgba(54, 162, 235, 1)',
                              'rgba(255, 206, 86, 1)',
                              'rgba(75, 192, 192, 1)',
                              'rgba(153, 102, 255, 1)',
                              'rgba(255, 159, 64, 1)'
                          ],
                          borderWidth: 1
                      }]
                  },
                  options: {
                      scales: {
                          y: {
                              beginAtZero: true
                          }
                      }
                  }
              });
  
              
  
              </script>
  

      </div>


        <%}%>

        <br>
        <br>
        <%- include('_footer') -%>
    </body>
</html>