class ToggleLike{constructor(e){this.toggler=e,this.toggleLike()}toggleLike(){$(this.toggler).click((function(e){e.preventDefault();let t=this;$.ajax({type:"POST",url:$(t).attr("href")}).done((function(e){let l=parseInt($(t).attr("data-likes"));console.log(l),1==e.data.deleted?l-=1:l+=1,console.log(e),$(t).attr("data-likes",l),$(t).html(`${l} likes`),0==e.data.deleted&&notifier.notifieruser!=e.data.likeableowner&&notifier.notify(e.data.likeableowner,"liked your "+e.data.likeabletype,e.data.likeabletype)})).fail((function(e){console.log("Error aaya")}))}))}}